# TripWings - מערכת ניהול טיולים

## תיאור כללי

**TripWings** היא פלטפורמה מתקדמת לניהול והזמנת חבילות טיולים. המערכת מאפשרת למשתמשים לגלוש, לחפש ולהזמין חבילות טיולים ברחבי העולם, בעוד שמנהלי המערכת יכולים לנהל את כל ההיבטים של העסק.

## תכונות עיקריות

### למשתמשים

- **גלריית טיולים**: חיפוש וסינון מתקדם של חבילות טיולים לפי יעד, מדינה, קטגוריה, מחיר ותאריכים
- **הזמנות**: הזמנת חבילות טיולים עם אפשרות לבחירת מספר חדרים
- **עגלת קניות**: הוספת טיולים לעגלה וקנייה מרוכזת
- **תשלומים**: תמיכה בתשלומים מרובים (עד 3 תשלומים) ותשלום מאובטח
- **רשימת המתנה**: הצטרפות לרשימת המתנה כאשר אין חדרים זמינים, עם התראות אוטומטיות
- **התראות אימייל**: קבלת תזכורות אוטומטיות 5 ימים לפני הטיול
- **מערכת הנחות**: הצגת הנחות פעילות וטמפורליות (עד שבוע)
- **ביקורות ותגובות**: הוספת ביקורות ודירוגים לטיולים
- **ארנק דיגיטלי**: ניהול ארנק דיגיטלי לניהול יתרות
- **לוח בקרה אישי**: מעקב אחר הזמנות, תשלומים וטיולים קרובים

### למנהלים

- **ניהול חבילות טיולים**: יצירה, עריכה ומחיקה של חבילות טיולים
- **ניהול הנחות**: יצירה ועדכון של הנחות טמפורליות (עד שבוע)
- **ניהול משתמשים**: צפייה וניהול כל המשתמשים במערכת
- **ניהול הזמנות**: מעקב אחר כל ההזמנות והתשלומים
- **ניהול תגובות**: אישור ומחיקה של תגובות משתמשים
- **סטטיסטיקות**: צפייה בסטטיסטיקות כלליות על המערכת

## טכנולוגיות

### Backend
- **ASP.NET Core 8.0** - Framework עיקרי
- **Entity Framework Core** - ORM לניהול מסד הנתונים
- **SQL Server** - מסד נתונים
- **ASP.NET Core Identity** - ניהול משתמשים והרשאות

### Frontend
- **Bootstrap 5** - עיצוב רספונסיבי
- **Bootstrap Icons** - אייקונים
- **JavaScript** - אינטראקטיביות
- **Razor Pages** - תצוגות דינמיות

### שירותים נוספים
- **PayPal Integration** - תשלומים מאובטחים
- **Email API (EmailJS)** - שליחת אימיילים
- **QuestPDF** - יצירת PDFs (קבלות, מסלולי טיול)
- **Background Services** - משימות רקע אוטומטיות

## דרישות מערכת

- **.NET 8.0 SDK** או גרסה חדשה יותר
- **SQL Server** או **SQL Server LocalDB**
- **Visual Studio 2022** או **Visual Studio Code** (אופציונלי)

## התקנה והפעלה

### 1. שכפול הפרויקט

```bash
git clone <repository-url>
cd TripWings
```

### 2. הגדרת מסד הנתונים

ערוך את קובץ `appsettings.json` והגדר את מחרוזת החיבור למסד הנתונים:

```json
{
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=TripWingsDB;Trusted_Connection=True;MultipleActiveResultSets=true"
  }
}
```

### 3. התקנת חבילות

```bash
dotnet restore
```

### 4. בניית הפרויקט

```bash
dotnet build
```

### 5. הפעלת הפרויקט

```bash
dotnet run
```

המערכת תתחיל אוטומטית ותיצור את מסד הנתונים עם נתוני דוגמה.

### 6. כניסה למערכת

- **משתמש מנהל**: `admin@tripwings.com` / `Admin@123`
- **משתמש רגיל**: הירשם דרך דף ההרשמה

## מבנה הפרויקט

```
TripWings/
├── Controllers/          # בקרים
│   ├── Admin/           # בקרים למנהלים
│   ├── AccountController.cs
│   ├── BookingController.cs
│   ├── CartController.cs
│   ├── PaymentController.cs
│   └── TripsController.cs
├── Models/              # מודלים
│   ├── ViewModels/      # מודלי תצוגה
│   ├── TravelPackage.cs
│   ├── Booking.cs
│   ├── Payment.cs
│   └── ...
├── Views/               # תצוגות Razor
│   ├── Home/
│   ├── Trips/
│   ├── Booking/
│   └── Admin/
├── Services/            # שירותים עסקיים
│   ├── BookingService.cs
│   ├── WaitingListService.cs
│   ├── NotificationService.cs
│   └── ...
├── Data/                # גישה למסד נתונים
│   ├── ApplicationDbContext.cs
│   └── SeedData.cs
├── wwwroot/            # קבצים סטטיים
│   ├── css/
│   └── js/
└── Scripts/            # סקריפטים SQL
```

## תכונות אבטחה

- **אימות משתמשים**: מערכת אימות מלאה עם ASP.NET Core Identity
- **הרשאות מבוססות תפקידים**: הפרדה בין משתמשים למנהלים
- **אבטחת תשלומים**: אין שמירה של פרטי כרטיסי אשראי במסד הנתונים
- **הצפנת סיסמאות**: סיסמאות מוצפנות עם Hash מאובטח
- **HTTPS**: תמיכה מלאה ב-HTTPS

## תכונות מתקדמות

### רשימת המתנה
- כאשר אין חדרים זמינים, משתמשים יכולים להצטרף לרשימת המתנה
- כאשר חדר מתפנה, המשתמש הראשון ברשימה מקבל התראה אימייל
- למשתמש יש 10 דקות להזמין לפני שההזדמנות עוברת למשתמש הבא

### תזכורות אוטומטיות
- מערכת שולחת תזכורות אוטומטיות 5 ימים לפני הטיול
- תזכורות נשלחות גם בעת הזמנה אם הטיול קרוב (תוך 5 ימים)

### הנחות דינמיות
- מנהלים יכולים ליצור הנחות טמפורליות (עד שבוע)
- הנחות מוצגות עם מחיר ישן מחוק ומחיר חדש
- הנחות מופעלות אוטומטית בעת יצירה

### הגבלות
- כל משתמש יכול להזמין עד 3 טיולים פעילים
- רק משתמש אחד יכול להזמין בכל פעם (בהתאם לרשימת המתנה)
- כל משתמש יכול להוסיף תגובה אחת בלבד

## תמיכה בשפות

המערכת תומכת ב:
- **עברית** - שפה ראשית
- **אנגלית** - שפה משנית

## רישיון

פרויקט זה הוא פרויקט פרטי.

## תמיכה

לשאלות ותמיכה, אנא פנה למנהל המערכת.

---

**TripWings** - כנפיים לטיולים שלך 🛫
